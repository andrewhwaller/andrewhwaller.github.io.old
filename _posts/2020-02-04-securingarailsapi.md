---
layout: post
title: Securing a Rails API
---
One of the interesting challenges I faced when starting work on my first Rails API was how to implement basic security. The go-to option for Rails auth is Devise. I found that Devise works very well with sessions in a traditional full-stack Rails MVC app, but I found it to be a bit more complicated to set up in the context of an API-only Rails backend. Many of the views and other files that Devise can generate automatically simply aren't needed in an API and added unnecessary bloat to my application. Furthermore, I wanted to learn how to implement a different auth solution so I'd have some experience with something besides Devise/session-based auth. Enter JSON web tokens. JSON web tokens are a standardized method for handling authenticated communication between two parties, in my case, a Rails API and a JavaScript client. While there are some not insignificant security concerns surrounding JWTs, because I was looking for a slim, simple solution for my application, using JWTs made sense. I had tried using a few different implementations of tokens with Devise, but never really got something that fit the bill. The solutions I tried were complex to set up and never really felt right; solutions that were supposed to work out of the box didn't really pan out. I did some work on my own to set up the JWT gem so that I could encode and decode JWTs to authenticate client requests to my API. Passing a token from the API to an authenticated client enables the client to then store that token in a cookie and pass it along with subsequent requests. While this solution doesn't have some of the stability, security, and features that Devise has, it does provide for a very flexible API authentication solution that can be expanded upon in the future or implemented with different client apps.
